# Домашнее задание к занятию "14.1 Создание и использование секретов"

##  Как создать секрет



    root@mck-t-k8s-cp1:~# openssl genrsa -out cert.key 4096
    Generating RSA private key, 4096 bit long modulus (2 primes)
    .........++++
    ....................................................++++
    e is 65537 (0x010001)
    root@mck-t-k8s-cp1:~#



    openssl req -x509 -new -key cert.key -days 3650 -out cert.crt \
    -subj '/C=RU/ST=Moscow/L=Moscow/CN=server.local'


    root@mck-t-k8s-cp1:~# kubectl create secret tls domain-cert --cert=cert.crt --key=cert.key
    secret/domain-cert created
    root@mck-t-k8s-cp1:~#

##  Как просмотреть список секретов

    root@mck-t-k8s-cp1:~# kubectl get secrets
    NAME                               TYPE                                  DATA   AGE
    domain-cert                        kubernetes.io/tls                     2      51s
    regcred                            kubernetes.io/dockerconfigjson        1      38d
    root@mck-t-k8s-cp1:~#


    root@mck-t-k8s-cp1:~# kubectl get secret
    NAME                               TYPE                                  DATA   AGE
    domain-cert                        kubernetes.io/tls                     2      89s
    regcred                            kubernetes.io/dockerconfigjson        1      38d
    root@mck-t-k8s-cp1:~#

##  Как просмотреть секрет

    root@mck-t-k8s-cp1:~# kubectl get secret domain-cert
    NAME          TYPE                DATA   AGE
    domain-cert   kubernetes.io/tls   2      2m35s
    root@mck-t-k8s-cp1:~#


    root@mck-t-k8s-cp1:~# kubectl describe secret domain-cert
    Name:         domain-cert
    Namespace:    default
    Labels:       <none>
    Annotations:  <none>

    Type:  kubernetes.io/tls

    Data
    ====
    tls.crt:  1944 bytes
    tls.key:  3243 bytes
    root@mck-t-k8s-cp1:~#



##  Как получить информацию в формате YAML и/или JSON


    root@mck-t-k8s-cp1:~# kubectl get secret domain-cert -o yaml
    apiVersion: v1
    data:
      tls.crt: LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZiVENDQTFXZ0F3SUJBZ0lVYkFDWGdCOVd4M0w4V2NOTDRwT3JMdFQxMktvd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JqRUxNQWtHQTFVRUJoTUNVbFV4RHpBTkJnTlZCQWdNQmsxdmMyTnZkekVQTUEwR0ExVUVCd3dHVFc5egpZMjkzTVJVd0V3WURWUVFEREF4elpYSjJaWEl1Ykc5allXd3dIaGNOTWpJd05URTJNVFExTmpNeFdoY05Nekl3Ck5URXpNVFExTmpNeFdqQkdNUXN3Q1FZRFZRUUdFd0pTVlRFUE1BMEdBMVVFQ0F3R1RXOXpZMjkzTVE4d0RRWUQKVlFRSERBWk5iM05qYjNjeEZUQVRCZ05WQkFNTURITmxjblpsY2k1c2IyTmhiRENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBTC9iM0FUUnF2bDZTWDA2TEZ2aXNKTXlqdVhsYzI1YnUxQXoxc0JhCldYRGJnaDVaNHcyQ1BBNDQzWTliSjJCdU9oTGJ6a2pobnljdUNJSHg0NThFMzJEa3paMVdwb1BDTVZjcGRrSTMKUDNGcmNOeGR6VGRQWW1HN2xOQ1p0OUMyMnY1b0lyeXNPeGNjS2Q3bFYyY0k2MHFXSXc5Sll1WEU1Y2NZOEhvNApCVUpmaFhFT2I2dE9SWEE1dlA3czhHYk5LTHNIWTg0cExEMUN6VzRGWEdIWlFnb211UGR0V2k1RmpyU1FicTNvCmQ5RXc2QTBTc3FxMXN4cnZleUtOVWg2NHhFdWtjSWZRa2xHRHR0cDhqOUlsYllhVGs0NXV1Z2dKUzZXUFZmL0QKNVIzcXdGR3oxZFliL0MrdjZ3aDRINWVaa1B5ZnpxTW13OXVkMjEwMEtBZUV2V3lFL0dhS3NzY2FzUFYzbERKNAp5eEpFZjlMemxRTjRlU1BWODdnSElkREpEN2xyRC8xN3J1Rk80cVZ1eHhmdHNPY0pTQ0ZyR25lTjJLRUpaNkozCjUvVHJlejB3S0IrckIyOWQ5QTQzUmZrY3hWOUthK1FpYUs3cCs4cXNQUkIxc0J5cnd6cjNIb29mb1BmZFNXbHkKZGxlL0FhTHlxM2NJdXdRNUpHajlWczRXRmtzUHFNa1A2MFV2OSsrWHVvYkp0amtrTzB4MWlic2FDWVVMbXMvUQpCNlF1ZTFvN2ZSNlFTekk0d1o1NVAzamg0Z0FKUFltaWRTQkpTWGMyWG9IOHk0ZjdVQTVzK2U5T2txTzdCNlFoCjJ1YXRNN3ZCYmJxeldFRnREaHdSV3dpOS8xYUJtZ2E2bDFLVnlhcVEzOWtKZkhra0t3YUFwUi85bXJLZldGZ0QKTXVqOUFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCVE11RkVSaGk3VXh4YWNyY0YvRGZUZzdoSzJsREFmQmdOVgpIU01FR0RBV2dCVE11RkVSaGk3VXh4YWNyY0YvRGZUZzdoSzJsREFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElDQVFBZzRxOWdNcytQUElqL2VzY0YzZDlhOW16dG1oSjdCd09tRHNOZkhFbEQKajVHbTZIZ0RnRkVIQmhESFlTM3AzYUlEcG9mWGVabmhsZXlOc1dsMUVjYSsxMlloTWZUUVVCZ3RrUUdKcU96cAo4SnM3dG9lcUVmRjc3aEh5c0Q1dlluWXgweTlrT0w2ZDlIZlR0U29TZzB5YkxQYnBTb1JJZ0pKTVNJeXRzcm5NClJUUmZ5RzVxYy81dVZtOGFXTk8zenI3anlkVk9ZSEtmRThCVmFJTzg2MkhYVU4vQkg0eGxicWZLSHNtd2JaZGgKZm56WGQ4eE4zTE9BcmhwYU1vNjBwVk5HaXFwcFYzbUQrWm5ObFg5eFJ0ZS83MFlBbjJxQ2E0dWswSzQvc3U0WApsUVZQaWJUN0VKT0p2OHYzZFNtUC9Bc29QcitjYW9uU1JoOHkwOVlvQ1Z3OWYzNmY5WFlxYi8zNndkMjFoR0RnCmZJMTF0ckdiZTN6RG44dHlQUTl2U3RsMFE5NXplSzFUR0J6cjhwYllBMUdReWlPR0dqQXpmOVlIbWJkUnZvZGoKWlNLYVROaWJ2Y2QvUkdsYVg5NlJlN0dpUXZrMGJtamJMY3kvMGhtWE4ycUxCYTlkby8yWDFGWWQrUFlUQlFISgpKU0pUb05XeEkzVzRyQXo1RXpPZThoU2lSMlovVWhybDF6aUZob0FxTUtYN0dRd0sybHlrWGRSZ3IwOSt0czVDCmlLamliNjljWUtaNzFhY1VQaWQzK0h2aGFTbER4eEtHdUw4TUQ2cWU3Lyt4KzA5ZFQyVWdONVdMTFI4c3c3QzgKV3pZTThacEdYcEQvVTBQb3JqWWt5a3dJYTFhcW5mZ0o1RnJBcjlGZ2Y2cTZvVkMvOEhxbHdDZlA1bEZTUGg3dwpEUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K
      tls.key: LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBdjl2Y0JOR3ErWHBKZlRvc1crS3drektPNWVWemJsdTdVRFBXd0ZwWmNOdUNIbG5qCkRZSThEampkajFzbllHNDZFdHZPU09HZkp5NElnZkhqbndUZllPVE5uVmFtZzhJeFZ5bDJRamMvY1d0dzNGM04KTjA5aVlidVUwSm0zMExiYS9tZ2l2S3c3Rnh3cDN1Vlhad2pyU3BZakQwbGk1Y1RseHhqd2VqZ0ZRbCtGY1E1dgpxMDVGY0RtOC91endaczBvdXdkanppa3NQVUxOYmdWY1lkbENDaWE0OTIxYUxrV090SkJ1cmVoMzBURG9EUkt5CnFyV3pHdTk3SW8xU0hyakVTNlJ3aDlDU1VZTzIybnlQMGlWdGhwT1RqbTY2Q0FsTHBZOVYvOFBsSGVyQVViUFYKMWh2OEw2L3JDSGdmbDVtUS9KL09veWJEMjUzYlhUUW9CNFM5YklUOFpvcXl4eHF3OVhlVU1uakxFa1IvMHZPVgpBM2g1STlYenVBY2gwTWtQdVdzUC9YdXU0VTdpcFc3SEYrMnc1d2xJSVdzYWQ0M1lvUWxub25mbjlPdDdQVEFvCkg2c0hiMTMwRGpkRitSekZYMHByNUNKb3J1bjd5cXc5RUhXd0hLdkRPdmNlaWgrZzk5MUphWEoyVjc4Qm92S3IKZHdpN0JEa2thUDFXemhZV1N3K295US9yUlMvMzc1ZTZoc20yT1NRN1RIV0p1eG9KaFF1YXo5QUhwQzU3V2p0OQpIcEJMTWpqQm5uay9lT0hpQUFrOWlhSjFJRWxKZHpaZWdmekxoL3RRRG16NTcwNlNvN3NIcENIYTVxMHp1OEZ0CnVyTllRVzBPSEJGYkNMMy9Wb0dhQnJxWFVwWEpxcERmMlFsOGVTUXJCb0NsSC8yYXNwOVlXQU15NlAwQ0F3RUEKQVFLQ0FnQXgvS04zY2ZVODZMcUs4UVFyc0lWVzVKNU1rWnFnankvZmRwSW1MYVFOL25NSlcxd0g0ZjJwcXZFMgo3NFh6M3VRc2s2NU1XTlJ4amRIVG9XVXZ3a0k4NllBVTFVV3ZJSUpnZGtJRWdJWjhFNFVsTlI5Sm9ObytJblJrCllSaCtQWllUSUtpa1JhOWpsd2ZsdGhVdW1DbE5sbzV0NWkzcE5ZSzBlKy96dC9MTzF6cGFPV3VvMDB6T0w0enAKVW14VUxISEhRT2FsQ1I4b211WVJHejUxay9oYjByandaa0pQdWZtelc4b3FiMTRBVitDdHYwaGpwOUdSWEFIVgovOEg4bFNFM29CRmRvVjd0OUFaSktKa0VKSkpEdE9HR0E1MWVpS1YzN2o5MjB1QTRDaml2VU02TzZWMnNRd1pXCmY0MmpudlFpamJSMTE1ekI5SC81NmFQZ1NacGNYcWpRclp2ZlJlL1lYbjdSUDZHNzVjTTBxaVNqZlNvWmlicjUKWWV4Z3BUOWxuYzA5T1pGYURBS0U0OWVmaDMzRXBqZlBTblN5V0hpTnE4czNha1licm5ub1cvZGx5UWp0Y3NZTgpmZTM5cWh5NUhNRmpSZlBDcCt2ODhRWm9HYyt2VUVEdTJrZHBGdnZKUzhWaFB0RXJOempUZXc5OGhPdmQrcjBzCkpSMnF5MVAyYUdFdnVpZnNvTVYwSC9VaGI1NGQyZytlejVjWmtJV1Q3UWhxYi9yTXZBTWxwS091UTdwNUtzelcKcVl4aStseWNsK2ZNMS8yU2NINXlBRFVJZGdHVkxQMGNIZ3hLTDdWcGRaUXQza3RlZFdMakd1TjUwWFJSVTZjcwpSaHlaNE85VVlIWWlPRzhZeHEwT2NncVZQOERVVS9tcDdKWkRJSkVsSDJGWUJ2QXYxUUtDQVFFQTlwM3ZOckFSCmJtSVh0dm94SEdYZnNtYm1rUFptSWFNYTJyenF1cXMwazlyM0k0K0ZKNFpKZzNRYkdsVGx0L1V6eXNxMm03TWkKaFBzSGcwSUQzS3BTT3NTN05VT2JvTS82L0hLUnpKS0dJa09Tb3F2ci8rNDBIbDdhZTR1YVdrQWxHOHJiREc4cgpEemhRdDIyLzFIZ1drKy9kQjB2NzJpY09hdXNrdXRvc25ZNmNjeklVNlpnYmxJTHRDYzdWWEgyRHUvWTBjdHAvCnFhOE0wSExBK3VuSm11ck9SeXdvOW56ZHlPWXZhbE9Id0dLOU9JbnpnZWdVSjFOQTBidGNzZ0J2Nzh2UnVaOUgKL3prY2d4dFNrTHp3bEtMNFJzekxud1VucU9qRUlrL2tKMDhQOTF1c25kdm5nS2xMK3I5UnY0emVDSk9hcUducgpidldWOUdXQjEzU0tpd0tDQVFFQXh5aVR6dEtHWTVlQVRFRnVzaCtySmowTW9SYnIzN0lHOGVHRm12QklRU08rCmh6VTRyRGVJREFNRHJObW5zTmsvcHBlYUVDZys5b0JJZTc1a1RybXJyVmlCaitpVklBVXhJTkhqUkUvK2FLNnkKK3dxdFovUTU0YjlnNDlYa1JTWjB3STdMYlJLSzJnL3NDNzdrTU11WUE5VTh0VWVtTE1JUWJHakFETWt2U1dHMQpweEhRL1pDaXdLN0RhZjZRSGQ4NXE0anozQ2VYVWRkV1EzVVJldkowVEpkUVJZNkZVSUs5QWJ4Z2hrcnBvMlpiCjNEbVlRbDVEaDVWNDUrWE8zNjlhMEZZTzNaanQvRWdEcEpERVFQWnQ1L2dTSG5XK2tHcS9WSzdNSnhwZ0tWZ0cKSW5UaW1Ob0xrVXhmQlE2MmV4RFg2OGVyVWVUaHVhZW1nS21JQW9Lemx3S0NBUUVBeWx3dHZhSWJxNGV5RGVLZQpDYjlPSHdWd2krS2pTMWFhNG9IQjJncEJ5bEVTR1l2YXB1UDV6bk9uQ2FSQUd3S0l6UTRwYVBsRWlmbXg0SEo2CjJNYXBVcSs3TGFtY09naHUybGJvYkFTUEsrNW1sRFNlSWhORGtPZ2tQdHYrZTYvR3cxZGhCb0x4d2p0amdCLysKR0VteHZSSkZPNGVOMFNQYklNQnlFeUNURzNXNXlveDl2Rytqc2VqOHQ5K1FFNlNxUThGeXFBdkNWV25lQ2UwZgpqTVBwT2NVU0hqU09LRE90aVB2WVRGYmVQVzdIOVd5ODh3dUwvZmpDWjFabWFXa1NjS0crSmFJZFliOXJOZWxsCmhuNkNxblJQWlVrR2pDV2V0V3JLQloyb2lOakhNU0Y0TXRBTzFmUVU5RnVvcUpUZVhBdENESTlkTUY4ei9LYU8KTkV6Y29RS0NBUUVBdWs5bWZ0d0pabytyTVNzaElEZHFCOXFpdnV4UGVyUHp0VUh4bC9GaTFyVldudXdWK1YzMQp3cTdyT0Q5aGxacVc1Z1Q2MWxTZ0drQUdEdVVjdDEwUWtwaXlrK3JUM3VHY2hRUjBwRXBsU0k3dDF0VzFSUU4vClJvV2ZZV1NPS0hhQ1VFVUZYeU15akM3SzltMzgwUDBWVjdpYkUwZFUySmd2ZndzN1pucXE1dTRtWG9YWFNlNk4Kb3MyYTk4UnlFOC9wQm1TWEpRUlFsZnBwczYrSHk4bVhMTE45SDZUbGFGejE3ZkxKSmJoYyswUmRlUmJVTG5vNgptRk1uaVdFOTk1bjJ6ZUZFQk4vMCtzWnZ5ZnEzN2NIYkxWK3ZxNWtnemI5ZkFCeUoxYWJpQUt0ZENjem8wbTlnCjFPdHFGTFFmMTk3NDc1U1oyNEhQL0xzdWt6eUZoVHU2UHdLQ0FRQXVZL2RDTjZ4VUhKSEhvR2tDcGVkbFFLSFkKY2hPbVU1QTFldW5oOUVCb1ZPczZzQ2JFQTM3cUVLaVF2RVV5UXhiUVdNR0ZQTFZma3NhN0ZWV1FOK0wxTFRYKwp0SzQ4R3RrQmdXOCt4Snc2MkRaYjlSL29RR1hmZG9DZXdJTVhGdmk2R3Y1RkRJU0pFcHZ4dlR3dDBObzdoemRmClQzWlpQZVMwVEdYbEU0UWZUMUxaYkNTdzFUWEw5RVUwUjUxa2hVa09heUpCRjZyaEROeTR0dTBxbTJSemk3WlQKU244TlEzUFVRSlRFM3lRdm90SzdUVWo3eVFwVllHRUFEZzJBUWtWQnByYjB6RnlNQVBSR0dEMXZMaUFldWNpRgp3T1BMY1E3YnJaa2V6WFdKYTJGVUErcmtyTDhIa2FPemlVV3VKM2hjcEhoM3VlMmhjMHhnWUNvWDFwZEkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K
    kind: Secret
    metadata:
      creationTimestamp: "2022-05-16T14:57:48Z"
      name: domain-cert
      namespace: default
      resourceVersion: "10776621"
      uid: a54c2502-abc8-40dd-b987-505b1c54e48c
    type: kubernetes.io/tls
    root@mck-t-k8s-cp1:~#



    root@mck-t-k8s-cp1:~# kubectl get secret domain-cert -o json
    {
        "apiVersion": "v1",
        "data": {
            "tls.crt": "LS0tLS1CRUdJTiBDRVJUSUZJQ0FURS0tLS0tCk1JSUZiVENDQTFXZ0F3SUJBZ0lVYkFDWGdCOVd4M0w4V2NOTDRwT3JMdFQxMktvd0RRWUpLb1pJaHZjTkFRRUwKQlFBd1JqRUxNQWtHQTFVRUJoTUNVbFV4RHpBTkJnTlZCQWdNQmsxdmMyTnZkekVQTUEwR0ExVUVCd3dHVFc5egpZMjkzTVJVd0V3WURWUVFEREF4elpYSjJaWEl1Ykc5allXd3dIaGNOTWpJd05URTJNVFExTmpNeFdoY05Nekl3Ck5URXpNVFExTmpNeFdqQkdNUXN3Q1FZRFZRUUdFd0pTVlRFUE1BMEdBMVVFQ0F3R1RXOXpZMjkzTVE4d0RRWUQKVlFRSERBWk5iM05qYjNjeEZUQVRCZ05WQkFNTURITmxjblpsY2k1c2IyTmhiRENDQWlJd0RRWUpLb1pJaHZjTgpBUUVCQlFBRGdnSVBBRENDQWdvQ2dnSUJBTC9iM0FUUnF2bDZTWDA2TEZ2aXNKTXlqdVhsYzI1YnUxQXoxc0JhCldYRGJnaDVaNHcyQ1BBNDQzWTliSjJCdU9oTGJ6a2pobnljdUNJSHg0NThFMzJEa3paMVdwb1BDTVZjcGRrSTMKUDNGcmNOeGR6VGRQWW1HN2xOQ1p0OUMyMnY1b0lyeXNPeGNjS2Q3bFYyY0k2MHFXSXc5Sll1WEU1Y2NZOEhvNApCVUpmaFhFT2I2dE9SWEE1dlA3czhHYk5LTHNIWTg0cExEMUN6VzRGWEdIWlFnb211UGR0V2k1RmpyU1FicTNvCmQ5RXc2QTBTc3FxMXN4cnZleUtOVWg2NHhFdWtjSWZRa2xHRHR0cDhqOUlsYllhVGs0NXV1Z2dKUzZXUFZmL0QKNVIzcXdGR3oxZFliL0MrdjZ3aDRINWVaa1B5ZnpxTW13OXVkMjEwMEtBZUV2V3lFL0dhS3NzY2FzUFYzbERKNAp5eEpFZjlMemxRTjRlU1BWODdnSElkREpEN2xyRC8xN3J1Rk80cVZ1eHhmdHNPY0pTQ0ZyR25lTjJLRUpaNkozCjUvVHJlejB3S0IrckIyOWQ5QTQzUmZrY3hWOUthK1FpYUs3cCs4cXNQUkIxc0J5cnd6cjNIb29mb1BmZFNXbHkKZGxlL0FhTHlxM2NJdXdRNUpHajlWczRXRmtzUHFNa1A2MFV2OSsrWHVvYkp0amtrTzB4MWlic2FDWVVMbXMvUQpCNlF1ZTFvN2ZSNlFTekk0d1o1NVAzamg0Z0FKUFltaWRTQkpTWGMyWG9IOHk0ZjdVQTVzK2U5T2txTzdCNlFoCjJ1YXRNN3ZCYmJxeldFRnREaHdSV3dpOS8xYUJtZ2E2bDFLVnlhcVEzOWtKZkhra0t3YUFwUi85bXJLZldGZ0QKTXVqOUFnTUJBQUdqVXpCUk1CMEdBMVVkRGdRV0JCVE11RkVSaGk3VXh4YWNyY0YvRGZUZzdoSzJsREFmQmdOVgpIU01FR0RBV2dCVE11RkVSaGk3VXh4YWNyY0YvRGZUZzdoSzJsREFQQmdOVkhSTUJBZjhFQlRBREFRSC9NQTBHCkNTcUdTSWIzRFFFQkN3VUFBNElDQVFBZzRxOWdNcytQUElqL2VzY0YzZDlhOW16dG1oSjdCd09tRHNOZkhFbEQKajVHbTZIZ0RnRkVIQmhESFlTM3AzYUlEcG9mWGVabmhsZXlOc1dsMUVjYSsxMlloTWZUUVVCZ3RrUUdKcU96cAo4SnM3dG9lcUVmRjc3aEh5c0Q1dlluWXgweTlrT0w2ZDlIZlR0U29TZzB5YkxQYnBTb1JJZ0pKTVNJeXRzcm5NClJUUmZ5RzVxYy81dVZtOGFXTk8zenI3anlkVk9ZSEtmRThCVmFJTzg2MkhYVU4vQkg0eGxicWZLSHNtd2JaZGgKZm56WGQ4eE4zTE9BcmhwYU1vNjBwVk5HaXFwcFYzbUQrWm5ObFg5eFJ0ZS83MFlBbjJxQ2E0dWswSzQvc3U0WApsUVZQaWJUN0VKT0p2OHYzZFNtUC9Bc29QcitjYW9uU1JoOHkwOVlvQ1Z3OWYzNmY5WFlxYi8zNndkMjFoR0RnCmZJMTF0ckdiZTN6RG44dHlQUTl2U3RsMFE5NXplSzFUR0J6cjhwYllBMUdReWlPR0dqQXpmOVlIbWJkUnZvZGoKWlNLYVROaWJ2Y2QvUkdsYVg5NlJlN0dpUXZrMGJtamJMY3kvMGhtWE4ycUxCYTlkby8yWDFGWWQrUFlUQlFISgpKU0pUb05XeEkzVzRyQXo1RXpPZThoU2lSMlovVWhybDF6aUZob0FxTUtYN0dRd0sybHlrWGRSZ3IwOSt0czVDCmlLamliNjljWUtaNzFhY1VQaWQzK0h2aGFTbER4eEtHdUw4TUQ2cWU3Lyt4KzA5ZFQyVWdONVdMTFI4c3c3QzgKV3pZTThacEdYcEQvVTBQb3JqWWt5a3dJYTFhcW5mZ0o1RnJBcjlGZ2Y2cTZvVkMvOEhxbHdDZlA1bEZTUGg3dwpEUT09Ci0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0K",
            "tls.key": "LS0tLS1CRUdJTiBSU0EgUFJJVkFURSBLRVktLS0tLQpNSUlKS1FJQkFBS0NBZ0VBdjl2Y0JOR3ErWHBKZlRvc1crS3drektPNWVWemJsdTdVRFBXd0ZwWmNOdUNIbG5qCkRZSThEampkajFzbllHNDZFdHZPU09HZkp5NElnZkhqbndUZllPVE5uVmFtZzhJeFZ5bDJRamMvY1d0dzNGM04KTjA5aVlidVUwSm0zMExiYS9tZ2l2S3c3Rnh3cDN1Vlhad2pyU3BZakQwbGk1Y1RseHhqd2VqZ0ZRbCtGY1E1dgpxMDVGY0RtOC91endaczBvdXdkanppa3NQVUxOYmdWY1lkbENDaWE0OTIxYUxrV090SkJ1cmVoMzBURG9EUkt5CnFyV3pHdTk3SW8xU0hyakVTNlJ3aDlDU1VZTzIybnlQMGlWdGhwT1RqbTY2Q0FsTHBZOVYvOFBsSGVyQVViUFYKMWh2OEw2L3JDSGdmbDVtUS9KL09veWJEMjUzYlhUUW9CNFM5YklUOFpvcXl4eHF3OVhlVU1uakxFa1IvMHZPVgpBM2g1STlYenVBY2gwTWtQdVdzUC9YdXU0VTdpcFc3SEYrMnc1d2xJSVdzYWQ0M1lvUWxub25mbjlPdDdQVEFvCkg2c0hiMTMwRGpkRitSekZYMHByNUNKb3J1bjd5cXc5RUhXd0hLdkRPdmNlaWgrZzk5MUphWEoyVjc4Qm92S3IKZHdpN0JEa2thUDFXemhZV1N3K295US9yUlMvMzc1ZTZoc20yT1NRN1RIV0p1eG9KaFF1YXo5QUhwQzU3V2p0OQpIcEJMTWpqQm5uay9lT0hpQUFrOWlhSjFJRWxKZHpaZWdmekxoL3RRRG16NTcwNlNvN3NIcENIYTVxMHp1OEZ0CnVyTllRVzBPSEJGYkNMMy9Wb0dhQnJxWFVwWEpxcERmMlFsOGVTUXJCb0NsSC8yYXNwOVlXQU15NlAwQ0F3RUEKQVFLQ0FnQXgvS04zY2ZVODZMcUs4UVFyc0lWVzVKNU1rWnFnankvZmRwSW1MYVFOL25NSlcxd0g0ZjJwcXZFMgo3NFh6M3VRc2s2NU1XTlJ4amRIVG9XVXZ3a0k4NllBVTFVV3ZJSUpnZGtJRWdJWjhFNFVsTlI5Sm9ObytJblJrCllSaCtQWllUSUtpa1JhOWpsd2ZsdGhVdW1DbE5sbzV0NWkzcE5ZSzBlKy96dC9MTzF6cGFPV3VvMDB6T0w0enAKVW14VUxISEhRT2FsQ1I4b211WVJHejUxay9oYjByandaa0pQdWZtelc4b3FiMTRBVitDdHYwaGpwOUdSWEFIVgovOEg4bFNFM29CRmRvVjd0OUFaSktKa0VKSkpEdE9HR0E1MWVpS1YzN2o5MjB1QTRDaml2VU02TzZWMnNRd1pXCmY0MmpudlFpamJSMTE1ekI5SC81NmFQZ1NacGNYcWpRclp2ZlJlL1lYbjdSUDZHNzVjTTBxaVNqZlNvWmlicjUKWWV4Z3BUOWxuYzA5T1pGYURBS0U0OWVmaDMzRXBqZlBTblN5V0hpTnE4czNha1licm5ub1cvZGx5UWp0Y3NZTgpmZTM5cWh5NUhNRmpSZlBDcCt2ODhRWm9HYyt2VUVEdTJrZHBGdnZKUzhWaFB0RXJOempUZXc5OGhPdmQrcjBzCkpSMnF5MVAyYUdFdnVpZnNvTVYwSC9VaGI1NGQyZytlejVjWmtJV1Q3UWhxYi9yTXZBTWxwS091UTdwNUtzelcKcVl4aStseWNsK2ZNMS8yU2NINXlBRFVJZGdHVkxQMGNIZ3hLTDdWcGRaUXQza3RlZFdMakd1TjUwWFJSVTZjcwpSaHlaNE85VVlIWWlPRzhZeHEwT2NncVZQOERVVS9tcDdKWkRJSkVsSDJGWUJ2QXYxUUtDQVFFQTlwM3ZOckFSCmJtSVh0dm94SEdYZnNtYm1rUFptSWFNYTJyenF1cXMwazlyM0k0K0ZKNFpKZzNRYkdsVGx0L1V6eXNxMm03TWkKaFBzSGcwSUQzS3BTT3NTN05VT2JvTS82L0hLUnpKS0dJa09Tb3F2ci8rNDBIbDdhZTR1YVdrQWxHOHJiREc4cgpEemhRdDIyLzFIZ1drKy9kQjB2NzJpY09hdXNrdXRvc25ZNmNjeklVNlpnYmxJTHRDYzdWWEgyRHUvWTBjdHAvCnFhOE0wSExBK3VuSm11ck9SeXdvOW56ZHlPWXZhbE9Id0dLOU9JbnpnZWdVSjFOQTBidGNzZ0J2Nzh2UnVaOUgKL3prY2d4dFNrTHp3bEtMNFJzekxud1VucU9qRUlrL2tKMDhQOTF1c25kdm5nS2xMK3I5UnY0emVDSk9hcUducgpidldWOUdXQjEzU0tpd0tDQVFFQXh5aVR6dEtHWTVlQVRFRnVzaCtySmowTW9SYnIzN0lHOGVHRm12QklRU08rCmh6VTRyRGVJREFNRHJObW5zTmsvcHBlYUVDZys5b0JJZTc1a1RybXJyVmlCaitpVklBVXhJTkhqUkUvK2FLNnkKK3dxdFovUTU0YjlnNDlYa1JTWjB3STdMYlJLSzJnL3NDNzdrTU11WUE5VTh0VWVtTE1JUWJHakFETWt2U1dHMQpweEhRL1pDaXdLN0RhZjZRSGQ4NXE0anozQ2VYVWRkV1EzVVJldkowVEpkUVJZNkZVSUs5QWJ4Z2hrcnBvMlpiCjNEbVlRbDVEaDVWNDUrWE8zNjlhMEZZTzNaanQvRWdEcEpERVFQWnQ1L2dTSG5XK2tHcS9WSzdNSnhwZ0tWZ0cKSW5UaW1Ob0xrVXhmQlE2MmV4RFg2OGVyVWVUaHVhZW1nS21JQW9Lemx3S0NBUUVBeWx3dHZhSWJxNGV5RGVLZQpDYjlPSHdWd2krS2pTMWFhNG9IQjJncEJ5bEVTR1l2YXB1UDV6bk9uQ2FSQUd3S0l6UTRwYVBsRWlmbXg0SEo2CjJNYXBVcSs3TGFtY09naHUybGJvYkFTUEsrNW1sRFNlSWhORGtPZ2tQdHYrZTYvR3cxZGhCb0x4d2p0amdCLysKR0VteHZSSkZPNGVOMFNQYklNQnlFeUNURzNXNXlveDl2Rytqc2VqOHQ5K1FFNlNxUThGeXFBdkNWV25lQ2UwZgpqTVBwT2NVU0hqU09LRE90aVB2WVRGYmVQVzdIOVd5ODh3dUwvZmpDWjFabWFXa1NjS0crSmFJZFliOXJOZWxsCmhuNkNxblJQWlVrR2pDV2V0V3JLQloyb2lOakhNU0Y0TXRBTzFmUVU5RnVvcUpUZVhBdENESTlkTUY4ei9LYU8KTkV6Y29RS0NBUUVBdWs5bWZ0d0pabytyTVNzaElEZHFCOXFpdnV4UGVyUHp0VUh4bC9GaTFyVldudXdWK1YzMQp3cTdyT0Q5aGxacVc1Z1Q2MWxTZ0drQUdEdVVjdDEwUWtwaXlrK3JUM3VHY2hRUjBwRXBsU0k3dDF0VzFSUU4vClJvV2ZZV1NPS0hhQ1VFVUZYeU15akM3SzltMzgwUDBWVjdpYkUwZFUySmd2ZndzN1pucXE1dTRtWG9YWFNlNk4Kb3MyYTk4UnlFOC9wQm1TWEpRUlFsZnBwczYrSHk4bVhMTE45SDZUbGFGejE3ZkxKSmJoYyswUmRlUmJVTG5vNgptRk1uaVdFOTk1bjJ6ZUZFQk4vMCtzWnZ5ZnEzN2NIYkxWK3ZxNWtnemI5ZkFCeUoxYWJpQUt0ZENjem8wbTlnCjFPdHFGTFFmMTk3NDc1U1oyNEhQL0xzdWt6eUZoVHU2UHdLQ0FRQXVZL2RDTjZ4VUhKSEhvR2tDcGVkbFFLSFkKY2hPbVU1QTFldW5oOUVCb1ZPczZzQ2JFQTM3cUVLaVF2RVV5UXhiUVdNR0ZQTFZma3NhN0ZWV1FOK0wxTFRYKwp0SzQ4R3RrQmdXOCt4Snc2MkRaYjlSL29RR1hmZG9DZXdJTVhGdmk2R3Y1RkRJU0pFcHZ4dlR3dDBObzdoemRmClQzWlpQZVMwVEdYbEU0UWZUMUxaYkNTdzFUWEw5RVUwUjUxa2hVa09heUpCRjZyaEROeTR0dTBxbTJSemk3WlQKU244TlEzUFVRSlRFM3lRdm90SzdUVWo3eVFwVllHRUFEZzJBUWtWQnByYjB6RnlNQVBSR0dEMXZMaUFldWNpRgp3T1BMY1E3YnJaa2V6WFdKYTJGVUErcmtyTDhIa2FPemlVV3VKM2hjcEhoM3VlMmhjMHhnWUNvWDFwZEkKLS0tLS1FTkQgUlNBIFBSSVZBVEUgS0VZLS0tLS0K"
        },
        "kind": "Secret",
        "metadata": {
            "creationTimestamp": "2022-05-16T14:57:48Z",
            "name": "domain-cert",
            "namespace": "default",
            "resourceVersion": "10776621",
            "uid": "a54c2502-abc8-40dd-b987-505b1c54e48c"
        },
        "type": "kubernetes.io/tls"
    }
    root@mck-t-k8s-cp1:~#



##  Как выгрузить секрет и сохранить его в файл

    root@mck-t-k8s-cp1:~# kubectl get secrets -o json > secrets.json
    root@mck-t-k8s-cp1:~# ls -l
    total 48
    -rw-r--r-- 1 root root  1944 May 16 14:56 cert.crt
    -rw------- 1 root root  3243 May 16 14:54 cert.key
    drwxr-xr-x 3 root root  4096 Mar 28 19:40 kube-manifests
    -rw-r--r-- 1 root root 25818 May 16 15:03 secrets.json
    drwxr-xr-x 3 root root  4096 Mar 25 12:34 snap
    drwxr-xr-x 4 root root  4096 Apr  7 07:29 test-k8s-oleg
    root@mck-t-k8s-cp1:~#


    root@mck-t-k8s-cp1:~# kubectl get secret domain-cert -o yaml > domain-cert.yml
    root@mck-t-k8s-cp1:~# ls -l
    total 56
    -rw-r--r-- 1 root root  1944 May 16 14:56 cert.crt
    -rw------- 1 root root  3243 May 16 14:54 cert.key
    -rw-r--r-- 1 root root  7167 May 16 15:04 domain-cert.yml
    drwxr-xr-x 3 root root  4096 Mar 28 19:40 kube-manifests
    -rw-r--r-- 1 root root 25818 May 16 15:03 secrets.json
    drwxr-xr-x 3 root root  4096 Mar 25 12:34 snap
    drwxr-xr-x 4 root root  4096 Apr  7 07:29 test-k8s-oleg
    root@mck-t-k8s-cp1:~#


##  Как удалить секрет

    root@mck-t-k8s-cp1:~# kubectl delete secret domain-cert
    secret "domain-cert" deleted
    root@mck-t-k8s-cp1:~# kubectl get secrets
    NAME                               TYPE                                  DATA   AGE
    regcred                            kubernetes.io/dockerconfigjson        1      38d


    root@mck-t-k8s-cp1:~# kubectl apply -f domain-cert.yml
    secret/domain-cert created
    root@mck-t-k8s-cp1:~# kubectl get secrets
    NAME                               TYPE                                  DATA   AGE
    domain-cert                        kubernetes.io/tls                     2      8s
    regcred                            kubernetes.io/dockerconfigjson        1      38d
    root@mck-t-k8s-cp1:~#
